# Solfec-2.0 unit test: SPLINE input command
import unittest, os

output0 = \
'''SPLINE_0_points = [(0,0),(0.01,0.113249),(0.02,0.221665),(0.03,0.320619),(0.04,0.405888),(0.05,0.473832),(0.06,0.521552),(0.07,0.54701),(0.08,0.549121),(0.09,0.527793),(0.1,0.483937),(0.11,0.419425),(0.12,0.337011),(0.13,0.240212),(0.14,0.13316),(0.15,0.0204248),(0.16,-0.0931825),(0.17,-0.202813),(0.18,-0.303786),(0.19,-0.391793),(0.2,-0.463077),(0.21,-0.514595),(0.22,-0.544149),(0.23,-0.550476),(0.24,-0.533308),(0.25,-0.493377),(0.26,-0.432386),(0.27,-0.35294),(0.28,-0.25843),(0.29,-0.152889),(0.3,-0.0408216),(0.31,0.0729878),(0.32,0.183682),(0.33,0.286536),(0.34,0.377159),(0.35,0.451685),(0.36,0.506931),(0.37,0.540539),(0.38,0.551076),(0.39,0.538091),(0.4,0.502138),(0.41,0.444753),(0.42,0.368385),(0.43,0.276292),(0.44,0.172407),(0.45,0.0611622),(0.46,-0.0526927),(0.47,-0.164299),(0.48,-0.268892),(0.49,-0.362008),(0.5,-0.439672),(0.51,-0.49857),(0.52,-0.536187),(0.53,-0.550918),(0.54,-0.542134),(0.55,-0.51021),(0.56,-0.456509),(0.57,-0.383323),(0.58,-0.293775),(0.59,-0.191688),(0.6,-0.0814189),(0.61,0.0323253),(0.62,0.14469),(0.63,0.250878),(0.64,0.346359),(0.65,0.427055),(0.66,0.489524),(0.67,0.531098),(0.68,0.550003),(0.69,0.545433),(0.7,0.517581),(0.71,0.467638),(0.72,0.397734),(0.73,0.310854),(0.74,0.210706),(0.75,0.101564),(0.76,-0.0119134),(0.77,-0.124882),(0.78,-0.23252),(0.79,-0.330234),(0.8,-0.413852),(0.81,-0.479805),(0.82,-0.525279),(0.83,-0.548333),(0.84,-0.547982),(0.85,-0.524241),(0.86,-0.478124),(0.87,-0.411599),(0.88,-0.327506),(0.89,-0.229434),(0.9,-0.121569),(0.91,-0.00851483),(0.92,0.104903),(0.93,0.213842),(0.94,0.313655),(0.95,0.40008),(0.96,0.469427),(0.97,0.518739),(0.98,0.545909),(0.99,0.549778)]
SPLINE_0_cache = 0
SPLINE_0_path = 
SPLINE_1_points = [(0,0),(0.01,0.113249),(0.02,0.221665),(0.03,0.320619),(0.04,0.405888),(0.05,0.473832),(0.06,0.521552),(0.07,0.54701),(0.08,0.549121),(0.09,0.527793),(0.1,0.483937)]
SPLINE_1_cache = 10
SPLINE_1_path = /Users/tomek/Dropbox/tkwork/codes/solfec-2.0/tests/spline.txt
SPLINE_2_points = [(0,10),(1,11),(2,12),(3,13),(4,14),(5,15),(6,16)]
SPLINE_2_cache = 0
SPLINE_2_path = 
SPLINE_3_points = [(0,10),(1,11),(2,12),(3,13),(4,14),(5,15),(6,16)]
SPLINE_3_cache = 0
SPLINE_3_path = 
SPLINE_4_points = [(0,10),(1,11),(2,12),(3,13),(4,14),(5,15),(6,16)]
SPLINE_4_cache = 0
SPLINE_4_path = 
'''

class test(unittest.TestCase):
  def test(self):
    solfec = os.popen('../solfec4 spline.py')
    output = solfec.read()
    solfec.close()
    self.assertEqual(output, output0)
